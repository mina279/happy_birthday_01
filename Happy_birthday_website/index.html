<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Patrick+Hand&display=swap" rel="stylesheet">

<style>
/* basic */
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: radial-gradient(circle at top, #ffe9f0, #f3f4ff);
  font-family: system-ui, sans-serif;
  padding: 20px;
}
.container { text-align: center; }

/* title */
.container h1 {
  margin-bottom: 40px;
  color: #444;
}

/* Confetti */
.confetti-container {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  pointer-events: none;
  overflow: hidden;
  z-index: 1;
}
.confetti {
  position: absolute;
  width: 10px; height: 14px;
  opacity: 0.9;
  border-radius: 2px;
  left: 50%; top: 50%;
  animation: explode 1.1s ease-out forwards,
             fall 2.8s ease-in forwards 1.1s;
}

/* Bigger explosion */
@keyframes explode {
  0% { transform: translate(0,0) scale(1); }
  100% { transform: translate(var(--tx), var(--ty)) scale(1.4); }
}

/* Longer fall */
@keyframes fall {
  0% { opacity: 1; }
  100% {
    transform: translate(var(--tx), calc(var(--ty) + 900px)) rotate(900deg);
    opacity: 0;
  }
}

/* Envelope */
.envelope {
  position: relative;
  width: 390px;
  height: 270px;
  cursor: pointer;
  perspective: 1200px;
  transform-style: preserve-3d;
  margin: 0 auto;
  z-index: 3;
}
.envelope-back {
  position: absolute; inset: 0;
  background: #f0c6a8;
  border-radius: 12px;
  box-shadow: 0 18px 30px rgba(0,0,0,0.15);
  z-index: 1;
}
.envelope-front { position: absolute; inset: 0; z-index: 4; }
.envelope-body {
  position: absolute;
  bottom: 0; width: 100%; height: 70%;
  background: #f7d1b3;
  border-radius: 0 0 12px 12px;
  z-index: 4;
  position: relative;
}
.envelope-flap {
  position: absolute;
  top: 0; width: 100%; height: 60%;
  background: #f9e0c7;
  transform-origin: top;
  transform: rotateX(0deg);
  transition: transform 0.6s ease;
  clip-path: polygon(0 0, 100% 0, 50% 100%);
  z-index: 5;
}

.envelope_writting {
    position: absolute;
    left: 25px;
    bottom:20px;

    font-family: "Dancing Script", cursive;
    font-size: 32px;
    color: #e01717;
    opacity: 0.85;

    transform: rotate(-4deg);
    pointer-events: none;

    z-index: 10;
}
/* LETTER ‚Äî slightly smaller + lower */
.letter {
  position: absolute;
  left: 50%;
  bottom: -80px; /* lowered more */

  width: 115%; /* smaller than before */
  padding: 26px 30px; /* more compact */

  transform: translate(-50%, 105px); /* lower starting point */
  border-radius: 10px;
  opacity: 0;
  transition: 0.6s ease;

  background: #f8f1ea;
  background-image: url("https://www.transparenttextures.com/patterns/old-wall.png");
  border: 1px solid #e8dcc2;
  box-shadow: 0 10px 20px rgba(0,0,0,0.15);

  font-family: "Patrick Hand", cursive;
  font-size: 14px; /* smaller handwriting */
  line-height: 1.42;
  color: #2d1f14;

  max-height: 440px;
  overflow-y: auto;

  z-index: 10;
}

/* OPEN STATE ‚Äî adjusted for lower letter */
.envelope.open .letter {
  opacity: 1;
  transform: translate(-50%, -25px); /* lower exit position */
}

.letter h2 {
  font-family: "Dancing Script", cursive;
  font-size: 26px;
  margin-bottom: 12px;
  color: #8b3a3a;
}

/* Open state */
.envelope.open .envelope-flap {
  transform: rotateX(-150deg);
}
.envelope.open .letter {
  opacity: 1;
  transform: translate(-50%, -15px); /* Lower exit */
}

/*close button */
#closeBtn {
  margin-top: 80px; /* –±—ã–ª–æ 25px ‚Äî —Ç–µ–ø–µ—Ä—å –∫–Ω–æ–ø–∫–∞ –Ω–∏–∂–µ */
  padding: 10px 18px;
  font-size: 15px;
  border: none;
  background: #e26a6a;
  color: white;
  border-radius: 6px;
  cursor: pointer;
}

.hidden { display: none; }
</style>
</head>

<body>
<div class="container">
  <h1>–ù–∞–∂–º–∏ –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç</h1>

  <div class="envelope" id="envelope">
    <div class="envelope-back"></div>

    <div class="envelope-front">
      <div class="envelope-flap"></div>
      <div class="envelope-body">
        <div class="envelope-writing"> Happy Birthday!!! </div>
      </div>
    </div>

    <div class="letter">
      <h2>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è!</h2>

      <p>
        –ü—É—Å—Ç—å —ç—Ç–æ—Ç –≥–æ–¥ —Å—Ç–∞–Ω–µ—Ç –¥–ª—è —Ç–µ–±—è –≤—Ä–µ–º–µ–Ω–µ–º —Ä–æ—Å—Ç–∞, —è—Ä–∫–∏—Ö –∏–¥–µ–π –∏ –ø–æ–±–µ–¥,
        –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –Ω–∞ –Ω–æ–≤—ã–µ —à–∞–≥–∏. –ñ–µ–ª–∞—é —Ç–µ–±–µ –∫—Ä–µ–ø–∫–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è,
        –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è –∏ —Ç–æ–π —Å–∞–º–æ–π —É–¥–∞—á–∏, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫ —Ç–µ–º, –∫—Ç–æ
        –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ —Å–¥–∞—ë—Ç—Å—è.
      </p>

      <p>
        –¢—ã —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç —Å—Ç–∞–≤–∏—Ç—å —Ü–µ–ª–∏ –∏ –∏–¥—Ç–∏ –∫ –Ω–∏–º, –¥–∞–∂–µ –∫–æ–≥–¥–∞ –ø—É—Ç—å –Ω–µ–ø—Ä–æ—Å—Ç–æ–π.
        –í —Ç–µ–±–µ –µ—Å—Ç—å —Å–∏–ª–∞, —Ö–∞—Ä–∞–∫—Ç–µ—Ä –∏ –Ω–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å - –∞ —ç—Ç–æ —Ç–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –ª—é–¥–µ–π
        –ø–æ‚Äë–Ω–∞—Å—Ç–æ—è—â–µ–º—É —É—Å–ø–µ—à–Ω—ã–º–∏. –ü—Ä–æ–¥–æ–ª–∂–∞–π –¥–≤–∏–≥–∞—Ç—å—Å—è –≤–ø–µ—Ä—ë–¥, –Ω–µ —Å–æ–º–Ω–µ–≤–∞—è—Å—å –≤ —Å–≤–æ–∏—Ö
        –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö. –¢—ã —Å–ø–æ—Å–æ–±–µ–Ω –Ω–∞ –º–Ω–æ–≥–æ–µ, –∏ –∫–∞–∂–¥—ã–π –Ω–æ–≤—ã–π –¥–µ–Ω—å —Ç–æ–ª—å–∫–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —ç—Ç–æ.
      </p>

      <p>
        –ü—É—Å—Ç—å –≤–ø–µ—Ä–µ–¥–∏ —Ç–µ–±—è –∂–¥—É—Ç –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è, –Ω–æ–≤—ã–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è, –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –∏
        –º–æ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—á–µ—Ç—Å—è –∑–∞–ø–æ–º–Ω–∏—Ç—å. –ü—É—Å—Ç—å –≤—Å—ë, –∑–∞ —á—Ç–æ —Ç—ã –±–µ—Ä—ë—à—å—Å—è, –ø—Ä–∏–Ω–æ—Å–∏—Ç
        —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ.
      </p>

      <p>
        –° –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º!<br>
        –ò –ø—É—Å—Ç—å —ç—Ç–æ—Ç –≥–æ–¥ –Ω–∞—á–Ω—ë—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Å—á—ë—Ç–∞ ‚Äî <strong>1:6 –≤ —Ç–≤–æ—é –ø–æ–ª—å–∑—É üéâ</strong>
      </p>
    </div>
  </div>

  <button id="closeBtn" class="hidden">–ó–∞–∫—Ä—ã—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç</button>

  <div class="confetti-container" id="confetti"></div>
</div>

<script>
const envelope = document.getElementById('envelope');
const closeBtn = document.getElementById('closeBtn');
const confettiContainer = document.getElementById('confetti');

function explodeConfetti() {
  for (let i = 0; i < 180; i++) {  // MORE CONFETTI
    const conf = document.createElement('div');
    conf.classList.add('confetti');

    const angle = Math.random() * 2 * Math.PI;
    const distance = 200 + Math.random() * 300; // BIGGER EXPLOSION

    conf.style.setProperty('--tx', (Math.cos(angle) * distance) + 'px');
    conf.style.setProperty('--ty', (Math.sin(angle) * distance) + 'px');

    conf.style.backgroundColor = ["#ff6b6b", "#ffd93d", "#6bcB77", "#4d96ff"][Math.floor(Math.random() * 4)];

    confettiContainer.appendChild(conf);

    setTimeout(() => conf.remove(), 3500);
  }
}

envelope.addEventListener('click', () => {
  envelope.classList.add('open');
  closeBtn.classList.remove('hidden');
  explodeConfetti();
});

closeBtn.addEventListener('click', () => {
  envelope.classList.remove('open');
  closeBtn.classList.add('hidden');
  confettiContainer.innerHTML = "";
});
</script>

</body>
</html>